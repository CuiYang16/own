<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="common/scriptInc">
    <meta charset="UTF-8">
    <title>添加and编辑用户</title>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row">
        <div class="layui-col-xs12 layui-col-sm12 layui-col-md12">
            <form class="layui-form layui-form-pane" action="" id="userForm" lay-filter="userForm">
                <input type="text" name="id" id="roleId"
                       class="layui-input" style="display: none;">
                <div class="layui-form-item">
                    <label class="layui-form-label">用户名</label>
                    <div class="layui-input-block">
                        <input type="text" name="userName" id="userName" required lay-verify="userName" autocomplete="off"
                               class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">性别</label>
                    <div class="layui-input-block">
                        <input type="radio" name="sex" value="1" title="男">
                        <input type="radio" name="sex" value="0" title="女">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">生日</label>
                    <div class="layui-input-block">
                        <input type="text" name="birthday" id="birthday" required lay-verify="required"
                               class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">邮箱</label>
                    <div class="layui-input-block">
                        <input type="text" name="eMail" required lay-verify="required" autocomplete="off"
                               class="layui-input"  lay-verify="email">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">电话</label>
                    <div class="layui-input-block">
                        <input type="text" name="tel" required lay-verify="required" autocomplete="off"
                               class="layui-input" lay-verify="phone">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">是否激活</label>
                    <div class="layui-input-block">

                        <input type="radio" name="enabled" value="true" title="激活" checked>
                        <input type="radio" name="enabled" value="false" title="未激活">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">是否锁定</label>
                    <div class="layui-input-block">
                        <input type="radio" name="accountNonLocked" value="false" title="锁定">
                        <input type="radio" name="accountNonLocked" value="true" title="未锁定" checked>

                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">凭证到期</label>
                    <div class="layui-input-block">
                        <input type="radio" name="credentialsNonExpired" value="false" title="到期">
                        <input type="radio" name="credentialsNonExpired" value="true" title="未到期" checked>

                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">授权到期</label>
                    <div class="layui-input-block">
                        <input type="radio" name="accountNonExpired" value="false" title="到期">
                        <input type="radio" name="accountNonExpired" value="true" title="未到期" checked>

                    </div>
                </div>

                <div class="layui-form-item layui-hide">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit lay-filter="submitUserForm" id="submitUserForm">提交</button>
                        <button type="reset" class="layui-btn layui-btn-primary" id="resetUserForm">重置</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>

<style type="text/css">
    body{
        padding-top: 10px;
    }
</style>
<script>
    layui.config({
        base: '/static/app/module/' //插件路径
    }).extend({
        enhanceform: 'enhanceform'
    });
    layui.use(['form','laydate', 'enhanceform'], function () {
        var form = layui.form;
        var laydate = layui.laydate;
        var enhanceForm = layui.enhanceform;
        var $ = layui.$;
        //生日日期选择执行一个laydate实例
        laydate.render({
            elem: '#birthday' //指定元素
            , type: 'date'
        });
        var enhance = new enhanceForm({
            elem: '#userForm' //表单选择器
        });
        window.editUserDetail = function (data) {
            enhance.filling(JSON.parse(data));
        }

        form.verify({
            userName: function (value, item) {
                if (!new RegExp("^([\u4E00-\\uFA29]|[\\uE7C7-\\uE7F3]|[a-zA-Z0-9]){4,16}$").test(value)) {
                    return '4-16位，可以包括字母，数字，汉字！';
                }
                if (/(^\_)|(\__)|(\_+$)/.test(value)) {
                    return '用户名首尾不能出现下划线\'_\'';
                }
                if (/^\d+\d+\d$/.test(value)) {
                    return '用户名不能全为数字';
                }

            }
        });

        $("#userForm").on('submit',function(val){
            console.log(val)
            return false;
        });
    })

</script>
</html>